# MPV configuration optimized for Streamlink (live streaming)

# Hardware decoding to offload video processing to the GPU
# Switch to NVDEC (Nvidia) for direct decoding on the 5090
# This avoids the expensive copy path (iGPU -> RAM -> dGPU)
# hwdec=nvdec

# Video output driver and preferred GPU backend for better performance
vo=gpu
gpu-api=opengl
gpu-context=wayland

# Hardware decoding using Nvidia NVDEC
# With CUDA_DISABLE_PERF_BOOST=1, this should be power efficient
hwdec=nvdec
# vaapi-device=/dev/dri/by-path/pci-0000:00:02.0-render (Not needed for nvdec)
vd-lavc-threads=4

# General performance profile for lower latency
# profile=low-latency
profile=fast

# Automatically deinterlace if needed (useful for some older content, generally safe)
deinterlace=auto

# Disable on-screen controller (OSC) to reduce CPU overhead
osc=no

# Cache settings (redundant with Streamlink player-args, but good as a fallback)
cache=yes
# Increase buffer to prevent freezing (was 10MiB/5MiB)
demuxer-max-bytes=200MiB
demuxer-max-back-bytes=50MiB
# Force a larger cache buffer in seconds
cache-secs=60
